@reserve = angular.module("Reserve", ["ngResource"])
  .config(["$httpProvider", (provider) ->
      provider.defaults.headers.common['X-CSRF-Token'] = 
        $('meta[name=csrf-token]').attr('content');
  ])
  .config(['$routeProvider', ($routeProvider)->
    $routeProvider
      .when("/events", 
        {templateUrl: '/assets/events.html', controller: @EventsCtrl})
      .when("/events/:date", 
        {templateUrl: '/assets/events.html', controller: @EventsCtrl})
      .when("/events/:date/:room", 
        {templateUrl: '/assets/events.html', controller: @EventsCtrl})
      .otherwise({redirectTo: "/events/today/"})
  ])