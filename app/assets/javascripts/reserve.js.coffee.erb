@reserve = angular.module("Reserve", ["ngResource"])
  .config(["$httpProvider", (provider) ->
      provider.defaults.headers.common['X-CSRF-Token'] = 
        $('meta[name=csrf-token]').attr('content');
  ])
  .config(['$routeProvider', ($routeProvider)->
    $routeProvider
      .when("/rooms", 
        {templateUrl: '/assets/rooms.html', controller: @RoomsCtrl})
      .when("/rooms/all", 
        {templateUrl: '/assets/rooms.html', controller: @RoomsCtrl})
      .when("/rooms/all/:date", 
        {templateUrl: '/assets/rooms.html', controller: @RoomsCtrl})
      .when("/rooms/all/:date/:period", 
        {templateUrl: '/assets/rooms.html', controller: @RoomsCtrl})
      .when("/rooms/:name", 
        {templateUrl: '/assets/rooms.html', controller: @RoomsCtrl})
      .when("/rooms/:name/:date", 
        {templateUrl: '/assets/rooms.html', controller: @RoomsCtrl})
      .when("/rooms/:name/:date/:period", 
        {templateUrl: '/assets/rooms.html', controller: @RoomsCtrl})
      .when("/me",
        {templateUrl: '/assets/me.html', controller: @UsersCtrl})
      .otherwise({redirectTo: "/rooms/all/today/week"})
  ])